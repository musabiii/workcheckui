# WorkCheck

Десктопный трекер активности за компьютером для Windows. Считает время работы и перерывов, напоминает об отдыхе по принципу Pomodoro и отправляет уведомления в Telegram.

## Возможности

- **Отслеживание активности** — глобальные хуки клавиатуры и мыши
- **Pomodoro-таймеры** — двухуровневые напоминания об отдыхе (25 и 40 минут)
- **Кастомные уведомления** — собственные всплывающие окна с анимацией
- **Telegram-интеграция** — отправка уведомлений в чат
- **Тёмная тема** — современный минималистичный интерфейс

## Требования

- Windows 10/11
- [.NET 8 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)

## Установка и запуск

```bash
# Клонировать репозиторий
git clone <url>
cd workcheckui

# Восстановить зависимости
dotnet restore

# Запустить
dotnet run
```

## Аргументы командной строки

| Аргумент | Описание |
|---|---|
| `-D` / `--debug` | Режим отладки: Pomodoro=10с, перерыв=5с, неактивность=15с |
| `-L` / `--long` | Длинный режим: Pomodoro=40м, перерыв=10м, неактивность=25м |
| `-P N` / `--pomodoro N` | Pomodoro = N минут |

Примеры:

```bash
dotnet run -- -D           # Режим отладки
dotnet run -- -P 30        # Pomodoro = 30 минут
dotnet run -- --long       # Длинный режим
```

## Настройки

Настройки хранятся в `settings.json` в папке приложения. Можно редактировать через окно настроек (кнопка ⚙ в главном окне).

### Telegram

1. Создайте бота через [@BotFather](https://t.me/BotFather) и получите токен
2. Узнайте свой Chat ID через [@userinfobot](https://t.me/userinfobot)
3. Введите токен и Chat ID в настройках приложения
4. Включите чекбокс «Отправлять в Telegram»

## Структура проекта

```
├── Models/                 # Модели данных
│   ├── AppSettings.cs      # Настройки приложения
│   └── NotificationRequest.cs
├── Services/               # Сервисы
│   ├── ActivityTracker.cs  # Хуки и логика состояний
│   ├── NotificationService.cs
│   ├── SettingsService.cs
│   └── TelegramService.cs
├── ViewModels/             # MVVM ViewModels
│   ├── StatusViewModel.cs
│   └── SettingsViewModel.cs
├── Views/                  # WPF окна
│   ├── StatusWindow.xaml   # Главное окно статуса
│   ├── SettingsWindow.xaml # Окно настроек
│   └── NotificationWindow.xaml
├── Helpers/
│   ├── TimeFormatter.cs    # Форматирование времени
│   └── Quotes.cs           # Мотивационные цитаты
├── App.xaml                # Ресурсы и стили
└── WorkCheck.csproj
```

## Логика работы

- **Активен** — пользователь работает (ввод с клавиатуры/мыши)
- **Короткий перерыв** — нет активности > 5 мин (настраивается)
- **Неактивен** — нет активности > 15 мин (настраивается)
- Время работы (`workedTime`) увеличивается только при наступлении короткого перерыва
- При возвращении после неактивности — мотивационное уведомление

## Лицензия

MIT
